<ul class="breadcrumb">
  <li><a href="/">Home</a></li>
  <li><a href="/teams">Teams</a></li>
  <li><a>{{team.name || 'Loading...'}}</a></li>
</ul>

<div class="row" ng-show="team">
  <div class="col-sm-3 col-md-3">
    <ng-include src="'app/teams/templates/infobox.html'"></ng-include>
  </div>
  <div class="col-sm-9 col-md-9" ng-controller="TeamHomeController">
    <ng-include src="'app/teams/templates/header.html'"></ng-include>
    <ng-include src="'app/teams/templates/tabs.html'"></ng-include>

    <div ng-show="funds_added">
      <alert type="'success'" close="funds_added = null">Successfully added <strong>{{funds_added | dollars}}</strong>
        to <strong>{{team.name}}'s</strong> balance. Current balance of <strong>{{team.account_balance |
          dollars}}</strong> is available to spend immediately.
      </alert>
    </div>

    <!-- Not a member, or just a public member. Do nothing but show the projects used -->
    <div ng-show="!is_member || !(is_admin || is_developer)">

      <!-- If you don't own any projects, no title -->
      <div ng-show="team.owned_trackers.length <= 0">
        <team-tracker-thumbnails trackers="team.trackers"></team-tracker-thumbnails>
      </div>

      <!-- If you own projects, split them apart and add titles -->
      <div ng-show="team.owned_trackers.length > 0">
        <div ng-show="team.owned_trackers.length > 0">
          <h3>{{team.name}}'s Projects</h3>
          <team-tracker-thumbnails trackers="team.owned_trackers"></team-tracker-thumbnails>
        </div>

        <div ng-show="team.unowned_trackers.length > 0">
          <h3>Projects Used by {{team.name}}</h3>
          <team-tracker-thumbnails trackers="team.unowned_trackers"></team-tracker-thumbnails>
        </div>
      </div>
    </div>

    <!-- Developer view. Can only add projects and place bounties -->
    <div class="row" ng-show="!is_admin && is_developer">
      <div class="col-sm-6 col-md-6">
        <ng-include src="'app/teams/templates/post_bounty_box.html'"></ng-include>
      </div>

      <div class="col-sm-3 col-md-3">
        <ng-include src="'app/teams/templates/goto_projects_box.html'"></ng-include>
      </div>

      <div class="col-sm-3 col-md-3">
        <ng-include src="'app/teams/templates/goto_settings_box.html'"></ng-include>
      </div>
    </div>

    <!-- Admin view. Can do all of the things! -->
    <div class="row" ng-show="is_admin">
      <div class="col-sm-6 col-md-6">
        <ng-include src="'app/teams/templates/post_bounty_box.html'"></ng-include>
      </div>

      <div class="col-sm-3 col-md-3">
        <ng-include src="'app/teams/templates/goto_invite_members.html'"></ng-include>
      </div>

      <div class="col-sm-3 col-md-3" ng-show="team.type == 'Team::Startup' || team.type == 'Team::Enterprise'">
        <ng-include src="'app/teams/templates/goto_add_funds.html'"></ng-include>
      </div>

      <div class="well col-sm-3 col-md-3" style="min-height:280px;" ng-show="team.type == 'Team::Project'">
        <div style="min-height:75%">
          <h4>Install Plugin</h4>
          <ul>
            <li>Add/update bounty total in Issue title</li>
            <li>Add bounty information to the issue body</li>
            <li>Apply label to all issues with a bounty</li>
          </ul>
        </div>
        <div style="text-align:center"><a ng-href="/tools" class="btn btn-primary">Install Plugin</a></div>
      </div>
    </div>
  </div>
</div>
