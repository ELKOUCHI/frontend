<ul class="breadcrumb">
  <li><a href="/">Home</a></li>
  <li><a href="/teams">Teams</a></li>
  <li><a>{{team.name || 'Loading...'}}</a></li>
</ul>

<div ng-show="team">
  <div class="row">
    <div class="col-sm-3 col-md-3">
      <ng-include src="'app/teams/templates/infobox.html'"></ng-include>
    </div>
    <div class="col-sm-9 col-md-9" ng-controller="TeamTrackersController">
      <ng-include src="'app/teams/templates/header.html'"></ng-include>
      <ng-include src="'app/teams/templates/tabs.html'"></ng-include>

      <div>
        <h3 ng-show="is_member">{{team.name}}'s Projects</h3>

        <div class="well" ng-show="is_admin || is_developer">
          <form class="form-inline" name="search_owner_form" ng-submit="own_project(project_owner_search)" style="margin-bottom:0px;">
            <div class="form-group">
              <label>Add an open-source project your team owns:</label>
              <input name="input" type="text" class="form-control" style="width: 300px;"
                     placeholder="Search for projects" ng-model="project_owner_search" 
                     typeahead="project.id as project.name for project in doTypeahead($viewValue, 'project_owner_search')"
                     typeahead-editable="true">
            </div>
          </form>
          <loading-bar ng-show="working">Searching</loading-bar>
        </div>
        <div class="row">
          <thumbnail-links array="team.owned_trackers" per-row="6" object-type="'team-project'" dismiss-action="unclaim_tracker(tracker)"></thumbnail-links>
        </div>
      </div>

      <div ng-show="is_admin || is_developer">
        <div class="alert alert-warning" style="padding: 20px;" ng-hide="team.trackers.length > 0">
          <h4 style="margin-top: 0;">Show off the open-source projects your team uses by adding them now!</h4>
          Search for projects that your team uses and add them to your profile.
        </div>

        <div>
          <h3>Projects Used By {{team.name}}</h3>
          <div class="well">
            <form class="form-inline" name="search_form" ng-submit="add_project(project_search)" style="margin-bottom:0px">
              <label>Add an open-source project your team uses:</label>
              <input name="input" type="text" class="form-control" placeholder="Search for projects" style="width: 300px;"
                     ng-model="project_search" typeahead-wait-ms="250" 
                     typeahead="project.id as project.name for project in doTypeahead($viewValue, 'project_search')" typeahead-editable="true">
            </form>
            <loading-bar ng-show="add_working">Searching</loading-bar>
          </div>
        </div>
      </div>

      <div ng-hide="team.trackers.length > 0 || (is_admin || is_developer)">
        <div class="alert alert-info">{{team.name}} has not added any projects to their profile.</div>
      </div>

      <div class="row">
          <thumbnail-links array="team.unowned_trackers" per-row="6" object-type="'team-project'" dismiss-action="remove_tracker(tracker)"></thumbnail-links>
      </div>

    </div>
  </div>
</div>
