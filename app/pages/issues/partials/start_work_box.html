<div class="well" ng-show="issue.can_add_bounty">
  <div class="row-fluid">
    <div ng-controller="SolutionsBaseController" class="span4" style="border-right: 1px solid #ddd; padding-right:15px;" ng-hide="initializing">
      <div ng-switch="status.type">
        <div ng-switch-when="SolutionEvent::Started">

          <div class="row-fluid">
            <div class="span8"><h4>I'm solving this!</h4></div>
            <div class="span4"><button class="btn btn-danger btn-block btn-large" style="vertical-align: middle;" ng-click="stop_solution()">Stop!</button></div>
          </div>
        </div>

        <div ng-switch-when="SolutionEvent::CheckedIn">
          <h4 style="margin-top:0;" class="text-center">Work In Progress</h4>

          <div style="text-align:center;margin-bottom:10px;">
            <small>last checked-in {{my_solution.created_at | date:'longDate'}}.</small>
          </div>
          <div>
            <button ng-click="stop_solution()" class="btn btn-primary btn-block">Stop Work</button>
          </div>
        </div>

        <div ng-switch-when="SolutionEvent::Idle">
          <h4 style="margin-top:0;" class="text-center">You've been marked as idle</h4>

          <div style="text-align:center;margin-bottom:10px;">
            <small>since {{my_solution.created_at | date:'longDate'}}.</small>
          </div>
          <div>
            <button ng-click="checkin_solution()" class="btn btn-primary btn-block">Check In</button>
          </div>
        </div>

        <div ng-switch-when="SolutionEvent::Stopped">
          <div class="row-fluid">
            <div class="span8"><h4>You stopped!</h4></div>
            <div class="span4"><button class="btn btn-primary btn-block btn-large" style="vertical-align: middle;" ng-click="restart_solution()">Restart</button></div>
          </div>
        </div>

        <div ng-switch-default>
          <div class="row-fluid">
            <div class="span8"><h4>Solving this issue?</h4></div>
            <div class="span4"><button class="btn btn-success btn-block btn-large" style="vertical-align: middle;" ng-click-require-auth="start_solution()">Yes!</button></div>
          </div>
        </div>
      </div>
    </div>
    <div class="span8">
      <div ng-controller="DeveloperGoalsBaseController" collapse="initializing">
        <!-- You have set a goal -->
        <div ng-show="my_developer_goal">
          <div>
            <form ng-submit="update_developer_goal(my_developer_goal.amount)" style="margin: 0;" class="form" name="form">
              <div class="row-fluid">
                <div class="span4">
                  <h4>My bounty goal:</h4>
                </div>
                <div class="span3">
                  <div class="input-prepend" style="margin-bottom: 0px;">
                    <span class="add-on" style="padding-top: 11px; padding-bottom: 11px;">$</span>
                    <input name="amount" type="number" style="height: 44px;" class="span9" min="{{issue.bounty_total + 1}}" step="1" ng-model="my_developer_goal.amount" ng-value="my_developer_goal.amount" required />
                  </div>
                </div>

                <div class="span5">
                  <button type="submit" class="btn btn-primary btn-large" ng-disabled="my_developer_goal.$master.amount == my_developer_goal.amount || my_developer_goal.amount <= issue.bounty_total || my_developer_goal.amount < 5">Update</button>
                  <button class="btn btn-danger btn-large" ng-click="delete_developer_goal()">Remove</button>
                </div>
              </div>
            </form>
          </div>
        </div>  

        <!-- You have not set a goal -->
        <div ng-hide="my_developer_goal">
          <div>
            <form ng-submit="create_developer_goal()" style="margin: 0;" class="form">
              <div class="row-fluid">
                <div class="span5">
                  <h4>I would work on this for:</h4>
                </div>
                <div class="span3">
                  <div class="input-prepend" style="margin-bottom: 0px;">
                    <span class="add-on" style="padding-top: 11px; padding-bottom: 11px;">$</span>
                    <input type="number" min="{{issue.bounty_total + 1}}" step="1" class="span9" style="height: 44px;" ng-model="new_developer_goal.amount" placeholder="{{issue.bounty_total + 100}}" required />
                  </div>
                </div>

                <div class="span4">
                  <button type="submit" class="btn btn-primary btn-block btn-large" ng-disabled="new_developer_goal.amount <= issue.bounty_total || new_developer_goal.amount < 5">Set Bounty Goal</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>


    </div>
  </div>
</div>
